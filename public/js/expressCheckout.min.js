!function(n){var Q={};function t(F){if(Q[F])return Q[F].exports;var e=Q[F]={i:F,l:!1,exports:{}};return n[F].call(e.exports,e,e.exports,t),e.l=!0,e.exports}t.m=n,t.c=Q,t.d=function(n,Q,F){t.o(n,Q)||Object.defineProperty(n,Q,{enumerable:!0,get:F})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,Q){if(1&Q&&(n=t(n)),8&Q)return n;if(4&Q&&"object"==typeof n&&n&&n.__esModule)return n;var F=Object.create(null);if(t.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:n}),2&Q&&"string"!=typeof n)for(var e in n)t.d(F,e,function(Q){return n[Q]}.bind(null,e));return F},t.n=function(n){var Q=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(Q,"a",Q),Q},t.o=function(n,Q){return Object.prototype.hasOwnProperty.call(n,Q)},t.p="",t(t.s=2)}([function(module,exports){eval("/**\n * Build Redirect Url By Ajax Request\n *\n * @param response\n * @param defaultUrl\n * @returns {string|*|string}\n */\nfunction redirectUrlByRequest(response) {\n  var defaultUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  if (!'data' in response) {\n    return defaultUrl;\n  }\n\n  var redirectUrl = 'redirectUrl' in response.data ? response.data.redirectUrl : defaultUrl;\n  return redirectUrl;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvdXRpbHMuanM/YTM0MyJdLCJuYW1lcyI6WyJyZWRpcmVjdFVybEJ5UmVxdWVzdCIsInJlc3BvbnNlIiwiZGVmYXVsdFVybCIsInJlZGlyZWN0VXJsIiwiZGF0YSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFPQSxTQUFTQSxvQkFBVCxDQUErQkMsUUFBL0IsRUFDQTtBQUFBLE1BRHlDQyxVQUN6Qyx1RUFEc0QsRUFDdEQ7O0FBQ0UsTUFBSSxDQUFDLE1BQUQsSUFBV0QsUUFBZixFQUF5QjtBQUN2QixXQUFPQyxVQUFQO0FBQ0Q7O0FBRUQsTUFBTUMsV0FBVyxHQUFJLGlCQUFpQkYsUUFBUSxDQUFDRyxJQUEzQixHQUFtQ0gsUUFBUSxDQUFDRyxJQUFULENBQWNELFdBQWpELEdBQStERCxVQUFuRjtBQUVBLFNBQU9DLFdBQVA7QUFDRCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCdWlsZCBSZWRpcmVjdCBVcmwgQnkgQWpheCBSZXF1ZXN0XG4gKlxuICogQHBhcmFtIHJlc3BvbnNlXG4gKiBAcGFyYW0gZGVmYXVsdFVybFxuICogQHJldHVybnMge3N0cmluZ3wqfHN0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVkaXJlY3RVcmxCeVJlcXVlc3QgKHJlc3BvbnNlLCBkZWZhdWx0VXJsID0gJycpXG57XG4gIGlmICghJ2RhdGEnIGluIHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRVcmxcbiAgfVxuXG4gIGNvbnN0IHJlZGlyZWN0VXJsID0gKCdyZWRpcmVjdFVybCcgaW4gcmVzcG9uc2UuZGF0YSkgPyByZXNwb25zZS5kYXRhLnJlZGlyZWN0VXJsIDogZGVmYXVsdFVybFxuXG4gIHJldHVybiByZWRpcmVjdFVybFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./resources/js/expressCheckout/Request.js\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Class Request\n *\n * @type {Request}\n */\nvar Request =\n/*#__PURE__*/\nfunction () {\n  // TODO Make the fields private if possible.\n  function Request(ajaxUrl, action) {\n    _classCallCheck(this, Request);\n\n    this.ajaxUrl = ajaxUrl;\n    this.action = action;\n  }\n\n  _createClass(Request, [{\n    key: \"formDataObject\",\n    value: function formDataObject(formData) {\n      var formDataEntries = [].concat(_toConsumableArray(formData.entries()), [['action', this.action]]);\n      var dataObject = formDataEntries.reduce(function (obj, _ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        obj[key] = value;\n        return obj;\n      }, {});\n      return dataObject;\n    }\n  }, {\n    key: \"submit\",\n    value: function submit(formData) {\n      var _this = this;\n\n      // TODO Extract specific data such as: action, nonce, task, context and\n      //      put the rest within a specific object.\n      //      Make a separation for data controls and real request data.\n      var dataObject = this.formDataObject(formData);\n\n      if (_.isEmpty(dataObject)) {\n        return Promise.reject('No formData to send to the server.');\n      }\n\n      return new Promise(function (resolve, reject) {\n        jQuery.ajax({\n          url: _this.ajaxUrl,\n          method: 'POST',\n          data: dataObject,\n          error: reject,\n          success: resolve\n        });\n      });\n    }\n  }]);\n\n  return Request;\n}();\n/**\n * Request Factory\n *\n * @param ajaxUrl\n * @param action\n * @returns {Request}\n */\n\n\nfunction RequestFactory(ajaxUrl, action) {\n  if (!ajaxUrl || !action) {\n    throw new Error('Invalid parameters when construct Request instance');\n  }\n\n  var object = new Request(ajaxUrl, action);\n  Object.freeze(object);\n  return object;\n}\n// CONCATENATED MODULE: ./resources/js/expressCheckout/context.js\n/**\n * Retrieve Context by Element\n *\n * @param element\n * @returns {string}\n */\nfunction contextByElement(element) {\n  return 'context' in element.dataset ? element.dataset.context : '';\n}\n// CONCATENATED MODULE: ./resources/js/expressCheckout/form.js\nfunction form_slicedToArray(arr, i) { return form_arrayWithHoles(arr) || form_iterableToArrayLimit(arr, i) || form_nonIterableRest(); }\n\nfunction form_nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction form_iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction form_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\nvar CART_BUTTON_SELECTOR = 'woo-paypalplus-checkout-nonce';\n/**\n * Create a FormData object by the closest form of the given element\n *\n * @param element\n * @returns {FormData}\n */\n\nfunction form_formDataByElement(element) {\n  var form = element.closest('form');\n\n  if (!form) {\n    throw new Error('Unable to retrieve form. Form element does not exists or is not a parent of the given element.');\n  }\n\n  var formData = new FormData(form);\n  formData.append('context', contextByElement(element));\n  return formData;\n}\n/**\n * Create a FormData for the Cart\n * WooCommerce mini cart doesn't have any form associated with it\n *\n * @param element\n * @returns {FormData}\n */\n\nfunction formDataForCart(element) {\n  try {\n    var _retrieveNonceForCart = retrieveNonceForCart(element),\n        _retrieveNonceForCart2 = form_slicedToArray(_retrieveNonceForCart, 2),\n        nonceName = _retrieveNonceForCart2[0],\n        nonceValue = _retrieveNonceForCart2[1];\n\n    var formData = new FormData();\n    formData.append('context', contextByElement(element));\n    formData.append(nonceName, nonceValue);\n    return formData;\n  } catch (err) {\n    return new FormData();\n  }\n}\n\nfunction retrieveNonceForCart(element) {\n  var nonceElement = element.parentNode.querySelector(\".\".concat(CART_BUTTON_SELECTOR));\n\n  if (!nonceElement) {\n    throw new Error('Cannot build the form data, missing security nonce.');\n  }\n\n  var nonceName = 'noncename' in nonceElement.dataset ? nonceElement.dataset.noncename : '';\n  var nonceValue = 'noncevalue' in nonceElement.dataset ? nonceElement.dataset.noncevalue : '';\n\n  if (!nonceName || !nonceValue) {\n    throw new Error('Cannot build the form data, missing security nonce.');\n  }\n\n  return [nonceName, nonceValue];\n}\n// EXTERNAL MODULE: ./resources/js/utils.js\nvar utils = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./resources/js/expressCheckout/smartPaymentButton.js\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction smartPaymentButton_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction smartPaymentButton_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction smartPaymentButton_createClass(Constructor, protoProps, staticProps) { if (protoProps) smartPaymentButton_defineProperties(Constructor.prototype, protoProps); if (staticProps) smartPaymentButton_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar SINGLE_PRODUCT_BUTTON = 'paypalplus_ecs_single_product_button';\nvar CART_BUTTON = 'paypalplus_ecs_cart_button';\nvar TASK_CREATE_ORDER = 'createOrder';\nvar TASK_STORE_PAYMENT_DATA = 'storePaymentData';\n/**\n * Class Smart Payment Button Renderer\n *\n * @type {SmartPaymentButtonRenderer}\n */\n\nvar smartPaymentButton_SmartPaymentButtonRenderer =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param buttonConfiguration\n   * @param validContexts\n   * @param request\n   */\n  function SmartPaymentButtonRenderer(buttonConfiguration, validContexts, request) {\n    smartPaymentButton_classCallCheck(this, SmartPaymentButtonRenderer);\n\n    this.buttonConfiguration = buttonConfiguration;\n    this.cancelUrl = this.buttonConfiguration.redirect_urls.cancel_url;\n    this.validContexts = Array.from(validContexts);\n    this.request = request;\n  }\n  /**\n   * Render button for single product\n   */\n\n\n  smartPaymentButton_createClass(SmartPaymentButtonRenderer, [{\n    key: \"singleProductButtonRender\",\n    value: function singleProductButtonRender() {\n      var element = document.querySelector(\"#\".concat(SINGLE_PRODUCT_BUTTON));\n      element && this.render(element);\n    }\n    /**\n     * Render Button for Cart\n     */\n\n  }, {\n    key: \"cartButtonRender\",\n    value: function cartButtonRender() {\n      var element = document.querySelector(\"#\".concat(CART_BUTTON));\n      element && this.render(element);\n    }\n    /**\n     * Render Button for the Given Element\n     *\n     * @param element\n     * @returns {*}\n     */\n    // TODO Make it private\n\n  }, {\n    key: \"render\",\n    value: function render(element) {\n      var _this = this;\n\n      if (_.isUndefined(paypal)) {\n        return;\n      }\n\n      var button = element.querySelector('.paypal-button');\n      button && button.remove();\n      paypal.Button.render(_objectSpread({}, this.buttonConfiguration, {\n        /**\n         * Do Payment\n         *\n         * @returns {*}\n         */\n        payment: function payment() {\n          var formData = _this.formDataByElement(element);\n\n          formData.append('task', TASK_CREATE_ORDER);\n          formData.delete('add-to-cart');\n          return _this.request.submit(formData).then(function (response) {\n            if (!'data' in response) {\n              console.warn('Unable to process the payment, server did not response with valid data');\n\n              try {\n                window.location = _this.cancelUrl;\n              } catch (e) {\n                return;\n              }\n            }\n\n            if (!response.success) {\n              try {\n                window.location = utils[\"redirectUrlByRequest\"](response, _this.cancelUrl);\n              } catch (e) {\n                return;\n              }\n            }\n\n            var orderId = 'orderId' in response.data ? response.data.orderId : '';\n\n            if (!orderId) {\n              try {\n                window.location = utils[\"redirectUrlByRequest\"](response, _this.cancelUrl);\n              } catch (e) {\n                return;\n              }\n            }\n\n            return orderId;\n          }).catch(function (error) {\n            var textStatus = 'textStatus' in error ? error.textStatus : 'Unknown Error during payment';\n            console.warn(textStatus);\n          });\n        },\n\n        /**\n         * Execute Authorization\n         *\n         * @param data\n         * @param actions\n         * @returns {*}\n         */\n        onAuthorize: function onAuthorize(data, actions) {\n          // TODO Ensure return_url exists.\n          var formData = _this.formDataByElement(element);\n\n          formData.append('task', TASK_STORE_PAYMENT_DATA);\n          formData.append('orderId', data.orderID);\n          formData.append('PayerID', data.payerID);\n          formData.append('paymentId', data.paymentID);\n          formData.append('token', data.paymentToken);\n          formData.delete('add-to-cart');\n          return _this.request.submit(formData).then(function (response) {\n            if (!response.success) {\n              try {\n                window.location = utils[\"redirectUrlByRequest\"](response, _this.cancelUrl);\n              } catch (e) {\n                return;\n              }\n            }\n\n            var returnUrl = '';\n\n            if ('redirect_urls' in _this.buttonConfiguration && 'return_url' in _this.buttonConfiguration.redirect_urls) {\n              returnUrl = _this.buttonConfiguration.redirect_urls.return_url;\n            }\n\n            returnUrl && actions.redirect(null, returnUrl);\n          });\n        },\n\n        /**\n         * Perform Action when a Payment get Cancelled\n         *\n         * @param data\n         * @param actions\n         */\n        onCancel: function onCancel(data, actions) {\n          actions.close();\n          var cancelUrl = 'cancelUrl' in data ? data.cancelUrl : '';\n          cancelUrl && actions.redirect(null, cancelUrl);\n        },\n        onError: function onError(data, actions) {\n          console.log('ON ERROR', data, actions); // TODO Redirect to cart and show customizable notice with message.\n        }\n      }), element);\n    }\n    /**\n     * Retrieve context for FormData instance by the Given Element\n     *\n     * @param element\n     * @returns {FormData}\n     */\n    // TODO Make it private if not possible move it as closure within the render function.\n\n  }, {\n    key: \"formDataByElement\",\n    value: function formDataByElement(element) {\n      var formData = new FormData();\n      var context = contextByElement(element);\n\n      if (!this.validContexts.includes(context)) {\n        throw new Error('Invalid context when try to retrieve the form data during express checkout request.');\n      }\n\n      try {\n        switch (context) {\n          case 'cart':\n            formData = formDataForCart(element);\n            break;\n\n          case 'product':\n            formData = form_formDataByElement(element);\n            break;\n        }\n      } catch (err) {}\n\n      return formData;\n    }\n  }]);\n\n  return SmartPaymentButtonRenderer;\n}();\n/**\n * Smart Payment Button Renderer Factory\n *\n * @param buttonConfiguration\n * @param validContexts\n * @param request\n * @returns {SmartPaymentButtonRenderer}\n * @constructor\n */\n\n\nfunction SmartPaymentButtonRendererFactory(buttonConfiguration, validContexts, request) {\n  var object = new smartPaymentButton_SmartPaymentButtonRenderer(buttonConfiguration, validContexts, request);\n  Object.freeze(object);\n  return object;\n}\n// CONCATENATED MODULE: ./resources/js/expressCheckout.js\n\n\n\n(function (jQuery, _, expressCheckoutData) {\n  /**\n   * Ensure the Global Express Checkout is a Valid Value\n   * @returns {boolean}\n   */\n  function isValidExpressCheckoutData() {\n    return !_.isUndefined(expressCheckoutData) && !_.isEmpty(expressCheckoutData);\n  }\n  /**\n   * Bootstrap Express checkout\n   * @returns void\n   */\n\n\n  function bootstrapExpressCheckout() {\n    if (!isValidExpressCheckoutData()) {\n      return;\n    }\n\n    var requestData = expressCheckoutData.request;\n\n    if (!_.isObject(requestData)) {\n      return;\n    }\n\n    var validContexts = expressCheckoutData.validContexts;\n\n    if (!_.isArray(validContexts)) {\n      return;\n    }\n\n    var request = RequestFactory(requestData.ajaxUrl, requestData.action);\n    var smartPaymentButton = SmartPaymentButtonRendererFactory(expressCheckoutData, validContexts, request);\n    smartPaymentButton.singleProductButtonRender();\n    smartPaymentButton.cartButtonRender();\n    jQuery(document.body).on('wc_fragments_refreshed wc_fragments_loaded removed_from_cart added_to_cart', function () {\n      smartPaymentButton.cartButtonRender();\n    });\n  }\n\n  window.addEventListener('load', function () {\n    bootstrapExpressCheckout();\n  });\n})(jQuery, window._, window.wooPayPalPlusExpressCheckout);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvZXhwcmVzc0NoZWNrb3V0L1JlcXVlc3QuanM/OGQ1ZiIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvZXhwcmVzc0NoZWNrb3V0L2NvbnRleHQuanM/NjhkMyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvZXhwcmVzc0NoZWNrb3V0L2Zvcm0uanM/ZWE1ZCIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvZXhwcmVzc0NoZWNrb3V0L3NtYXJ0UGF5bWVudEJ1dHRvbi5qcz9mM2IyIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9leHByZXNzQ2hlY2tvdXQuanM/ZGNjMyJdLCJuYW1lcyI6WyJSZXF1ZXN0IiwiYWpheFVybCIsImFjdGlvbiIsImZvcm1EYXRhIiwiZm9ybURhdGFFbnRyaWVzIiwiZW50cmllcyIsImRhdGFPYmplY3QiLCJyZWR1Y2UiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImZvcm1EYXRhT2JqZWN0IiwiXyIsImlzRW1wdHkiLCJQcm9taXNlIiwicmVqZWN0IiwicmVzb2x2ZSIsImpRdWVyeSIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJkYXRhIiwiZXJyb3IiLCJzdWNjZXNzIiwiUmVxdWVzdEZhY3RvcnkiLCJFcnJvciIsIm9iamVjdCIsIk9iamVjdCIsImZyZWV6ZSIsImNvbnRleHRCeUVsZW1lbnQiLCJlbGVtZW50IiwiZGF0YXNldCIsImNvbnRleHQiLCJDQVJUX0JVVFRPTl9TRUxFQ1RPUiIsImZvcm1EYXRhQnlFbGVtZW50IiwiZm9ybSIsImNsb3Nlc3QiLCJGb3JtRGF0YSIsImFwcGVuZCIsImZvcm1EYXRhRm9yQ2FydCIsInJldHJpZXZlTm9uY2VGb3JDYXJ0Iiwibm9uY2VOYW1lIiwibm9uY2VWYWx1ZSIsImVyciIsIm5vbmNlRWxlbWVudCIsInBhcmVudE5vZGUiLCJxdWVyeVNlbGVjdG9yIiwibm9uY2VuYW1lIiwibm9uY2V2YWx1ZSIsIlNJTkdMRV9QUk9EVUNUX0JVVFRPTiIsIkNBUlRfQlVUVE9OIiwiVEFTS19DUkVBVEVfT1JERVIiLCJUQVNLX1NUT1JFX1BBWU1FTlRfREFUQSIsIlNtYXJ0UGF5bWVudEJ1dHRvblJlbmRlcmVyIiwiYnV0dG9uQ29uZmlndXJhdGlvbiIsInZhbGlkQ29udGV4dHMiLCJyZXF1ZXN0IiwiY2FuY2VsVXJsIiwicmVkaXJlY3RfdXJscyIsImNhbmNlbF91cmwiLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInJlbmRlciIsImlzVW5kZWZpbmVkIiwicGF5cGFsIiwiYnV0dG9uIiwicmVtb3ZlIiwiQnV0dG9uIiwicGF5bWVudCIsImRlbGV0ZSIsInN1Ym1pdCIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJ3YXJuIiwid2luZG93IiwibG9jYXRpb24iLCJlIiwidXRpbHMiLCJvcmRlcklkIiwiY2F0Y2giLCJ0ZXh0U3RhdHVzIiwib25BdXRob3JpemUiLCJhY3Rpb25zIiwib3JkZXJJRCIsInBheWVySUQiLCJwYXltZW50SUQiLCJwYXltZW50VG9rZW4iLCJyZXR1cm5VcmwiLCJyZXR1cm5fdXJsIiwicmVkaXJlY3QiLCJvbkNhbmNlbCIsImNsb3NlIiwib25FcnJvciIsImxvZyIsImluY2x1ZGVzIiwiU21hcnRQYXltZW50QnV0dG9uUmVuZGVyZXJGYWN0b3J5IiwiZXhwcmVzc0NoZWNrb3V0RGF0YSIsImlzVmFsaWRFeHByZXNzQ2hlY2tvdXREYXRhIiwiYm9vdHN0cmFwRXhwcmVzc0NoZWNrb3V0IiwicmVxdWVzdERhdGEiLCJpc09iamVjdCIsImlzQXJyYXkiLCJzbWFydFBheW1lbnRCdXR0b24iLCJzaW5nbGVQcm9kdWN0QnV0dG9uUmVuZGVyIiwiY2FydEJ1dHRvblJlbmRlciIsImJvZHkiLCJvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3b29QYXlQYWxQbHVzRXhwcmVzc0NoZWNrb3V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FBS0EsSUFBTUEsT0FBTztBQUFBO0FBQUE7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LENBQUwsRUFBK0I7QUFDN0I7QUFDRDs7QUFFRCxRQUFNQyxPQUFPLEdBQUdoQyxjQUFjLENBQUM2RSxXQUFXLENBQUNwRyxPQUFiLEVBQXNCb0csV0FBVyxDQUFDbkcsTUFBbEMsQ0FBOUI7QUFDQSxRQUFNc0csa0JBQWtCLEdBQUdQLGlDQUFpQyxDQUMxREMsbUJBRDBELEVBRTFEM0MsYUFGMEQsRUFHMURDLE9BSDBELENBQTVEO0FBTUFnRCxzQkFBa0IsQ0FBQ0MseUJBQW5CO0FBQ0FELHNCQUFrQixDQUFDRSxnQkFBbkI7QUFDQXpGLFVBQU0sQ0FBQzZDLFFBQVEsQ0FBQzZDLElBQVYsQ0FBTixDQUFzQkMsRUFBdEIsQ0FBeUIsNEVBQXpCLEVBQXVHLFlBQU07QUFDM0dKLHdCQUFrQixDQUFDRSxnQkFBbkI7QUFDRCxLQUZEO0FBR0Q7O0FBRUQ5QixRQUFNLENBQUNpQyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxZQUFNO0FBQ3BDVCw0QkFBd0I7QUFDekIsR0FGRDtBQUdELENBL0NELEVBK0NHbkYsTUEvQ0gsRUErQ1cyRCxNQUFNLENBQUNoRSxDQS9DbEIsRUErQ3FCZ0UsTUFBTSxDQUFDa0MsNEJBL0M1QiIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDbGFzcyBSZXF1ZXN0XG4gKlxuICogQHR5cGUge1JlcXVlc3R9XG4gKi9cbmNvbnN0IFJlcXVlc3QgPSBjbGFzcyBSZXF1ZXN0XG57XG4gIC8vIFRPRE8gTWFrZSB0aGUgZmllbGRzIHByaXZhdGUgaWYgcG9zc2libGUuXG4gIGNvbnN0cnVjdG9yIChhamF4VXJsLCBhY3Rpb24pXG4gIHtcbiAgICB0aGlzLmFqYXhVcmwgPSBhamF4VXJsXG4gICAgdGhpcy5hY3Rpb24gPSBhY3Rpb25cbiAgfVxuXG4gIGZvcm1EYXRhT2JqZWN0IChmb3JtRGF0YSlcbiAge1xuICAgIGNvbnN0IGZvcm1EYXRhRW50cmllcyA9IFsuLi5mb3JtRGF0YS5lbnRyaWVzKCksIFsnYWN0aW9uJywgdGhpcy5hY3Rpb25dXVxuICAgIGNvbnN0IGRhdGFPYmplY3QgPSBmb3JtRGF0YUVudHJpZXMucmVkdWNlKChvYmosIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZVxuICAgICAgcmV0dXJuIG9ialxuICAgIH0sIHt9KVxuXG4gICAgcmV0dXJuIGRhdGFPYmplY3RcbiAgfVxuXG4gIHN1Ym1pdCAoZm9ybURhdGEpXG4gIHtcbiAgICAvLyBUT0RPIEV4dHJhY3Qgc3BlY2lmaWMgZGF0YSBzdWNoIGFzOiBhY3Rpb24sIG5vbmNlLCB0YXNrLCBjb250ZXh0IGFuZFxuICAgIC8vICAgICAgcHV0IHRoZSByZXN0IHdpdGhpbiBhIHNwZWNpZmljIG9iamVjdC5cbiAgICAvLyAgICAgIE1ha2UgYSBzZXBhcmF0aW9uIGZvciBkYXRhIGNvbnRyb2xzIGFuZCByZWFsIHJlcXVlc3QgZGF0YS5cblxuICAgIGNvbnN0IGRhdGFPYmplY3QgPSB0aGlzLmZvcm1EYXRhT2JqZWN0KGZvcm1EYXRhKVxuXG4gICAgaWYgKF8uaXNFbXB0eShkYXRhT2JqZWN0KSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdObyBmb3JtRGF0YSB0byBzZW5kIHRvIHRoZSBzZXJ2ZXIuJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgalF1ZXJ5LmFqYXgoe1xuICAgICAgICB1cmw6IHRoaXMuYWpheFVybCxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6IGRhdGFPYmplY3QsXG4gICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgIHN1Y2Nlc3M6IHJlc29sdmVcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIFJlcXVlc3QgRmFjdG9yeVxuICpcbiAqIEBwYXJhbSBhamF4VXJsXG4gKiBAcGFyYW0gYWN0aW9uXG4gKiBAcmV0dXJucyB7UmVxdWVzdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlcXVlc3RGYWN0b3J5IChhamF4VXJsLCBhY3Rpb24pXG57XG4gIGlmICghYWpheFVybCB8fCAhYWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBhcmFtZXRlcnMgd2hlbiBjb25zdHJ1Y3QgUmVxdWVzdCBpbnN0YW5jZScpXG4gIH1cblxuICBsZXQgb2JqZWN0ID0gbmV3IFJlcXVlc3QoYWpheFVybCwgYWN0aW9uKVxuICBPYmplY3QuZnJlZXplKG9iamVjdClcblxuICByZXR1cm4gb2JqZWN0XG59XG4iLCIvKipcbiAqIFJldHJpZXZlIENvbnRleHQgYnkgRWxlbWVudFxuICpcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGV4dEJ5RWxlbWVudCAoZWxlbWVudClcbntcbiAgcmV0dXJuICgnY29udGV4dCcgaW4gZWxlbWVudC5kYXRhc2V0ID8gZWxlbWVudC5kYXRhc2V0LmNvbnRleHQgOiAnJylcbn1cbiIsImltcG9ydCB7IGNvbnRleHRCeUVsZW1lbnQgfSBmcm9tICcuL2NvbnRleHQnXG5cbmNvbnN0IENBUlRfQlVUVE9OX1NFTEVDVE9SID0gJ3dvby1wYXlwYWxwbHVzLWNoZWNrb3V0LW5vbmNlJ1xuXG4vKipcbiAqIENyZWF0ZSBhIEZvcm1EYXRhIG9iamVjdCBieSB0aGUgY2xvc2VzdCBmb3JtIG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEByZXR1cm5zIHtGb3JtRGF0YX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1EYXRhQnlFbGVtZW50IChlbGVtZW50KVxue1xuICBjb25zdCBmb3JtID0gZWxlbWVudC5jbG9zZXN0KCdmb3JtJylcblxuICBpZiAoIWZvcm0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnVW5hYmxlIHRvIHJldHJpZXZlIGZvcm0uIEZvcm0gZWxlbWVudCBkb2VzIG5vdCBleGlzdHMgb3IgaXMgbm90IGEgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50LidcbiAgICApXG4gIH1cblxuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKVxuICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRleHQnLCBjb250ZXh0QnlFbGVtZW50KGVsZW1lbnQpKVxuXG4gIHJldHVybiBmb3JtRGF0YVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIEZvcm1EYXRhIGZvciB0aGUgQ2FydFxuICogV29vQ29tbWVyY2UgbWluaSBjYXJ0IGRvZXNuJ3QgaGF2ZSBhbnkgZm9ybSBhc3NvY2lhdGVkIHdpdGggaXRcbiAqXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHJldHVybnMge0Zvcm1EYXRhfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybURhdGFGb3JDYXJ0IChlbGVtZW50KVxue1xuICB0cnkge1xuICAgIGNvbnN0IFtub25jZU5hbWUsIG5vbmNlVmFsdWVdID0gcmV0cmlldmVOb25jZUZvckNhcnQoZWxlbWVudClcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXG5cbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRleHQnLCBjb250ZXh0QnlFbGVtZW50KGVsZW1lbnQpKVxuICAgIGZvcm1EYXRhLmFwcGVuZChub25jZU5hbWUsIG5vbmNlVmFsdWUpXG5cbiAgICByZXR1cm4gZm9ybURhdGFcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIG5ldyBGb3JtRGF0YSgpXG4gIH1cbn1cblxuZnVuY3Rpb24gcmV0cmlldmVOb25jZUZvckNhcnQgKGVsZW1lbnQpXG57XG4gIGNvbnN0IG5vbmNlRWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKGAuJHtDQVJUX0JVVFRPTl9TRUxFQ1RPUn1gKVxuXG4gIGlmICghbm9uY2VFbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYnVpbGQgdGhlIGZvcm0gZGF0YSwgbWlzc2luZyBzZWN1cml0eSBub25jZS4nKVxuICB9XG5cbiAgY29uc3Qgbm9uY2VOYW1lID0gKCdub25jZW5hbWUnIGluIG5vbmNlRWxlbWVudC5kYXRhc2V0KSA/IG5vbmNlRWxlbWVudC5kYXRhc2V0Lm5vbmNlbmFtZSA6ICcnXG4gIGNvbnN0IG5vbmNlVmFsdWUgPSAoJ25vbmNldmFsdWUnIGluIG5vbmNlRWxlbWVudC5kYXRhc2V0KSA/IG5vbmNlRWxlbWVudC5kYXRhc2V0Lm5vbmNldmFsdWUgOiAnJ1xuXG4gIGlmICghbm9uY2VOYW1lIHx8ICFub25jZVZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYnVpbGQgdGhlIGZvcm0gZGF0YSwgbWlzc2luZyBzZWN1cml0eSBub25jZS4nKVxuICB9XG5cbiAgcmV0dXJuIFtcbiAgICBub25jZU5hbWUsXG4gICAgbm9uY2VWYWx1ZVxuICBdXG59XG4iLCJpbXBvcnQgeyBmb3JtRGF0YUJ5RWxlbWVudCwgZm9ybURhdGFGb3JDYXJ0IH0gZnJvbSAnLi9mb3JtJ1xuaW1wb3J0IHsgY29udGV4dEJ5RWxlbWVudCB9IGZyb20gJy4vY29udGV4dCdcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCBTSU5HTEVfUFJPRFVDVF9CVVRUT04gPSAncGF5cGFscGx1c19lY3Nfc2luZ2xlX3Byb2R1Y3RfYnV0dG9uJ1xuY29uc3QgQ0FSVF9CVVRUT04gPSAncGF5cGFscGx1c19lY3NfY2FydF9idXR0b24nXG5cbmNvbnN0IFRBU0tfQ1JFQVRFX09SREVSID0gJ2NyZWF0ZU9yZGVyJ1xuY29uc3QgVEFTS19TVE9SRV9QQVlNRU5UX0RBVEEgPSAnc3RvcmVQYXltZW50RGF0YSdcblxuLyoqXG4gKiBDbGFzcyBTbWFydCBQYXltZW50IEJ1dHRvbiBSZW5kZXJlclxuICpcbiAqIEB0eXBlIHtTbWFydFBheW1lbnRCdXR0b25SZW5kZXJlcn1cbiAqL1xuY29uc3QgU21hcnRQYXltZW50QnV0dG9uUmVuZGVyZXIgPSBjbGFzcyBTbWFydFBheW1lbnRCdXR0b25SZW5kZXJlclxue1xuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIGJ1dHRvbkNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHZhbGlkQ29udGV4dHNcbiAgICogQHBhcmFtIHJlcXVlc3RcbiAgICovXG4gIGNvbnN0cnVjdG9yIChidXR0b25Db25maWd1cmF0aW9uLCB2YWxpZENvbnRleHRzLCByZXF1ZXN0KVxuICB7XG4gICAgdGhpcy5idXR0b25Db25maWd1cmF0aW9uID0gYnV0dG9uQ29uZmlndXJhdGlvblxuICAgIHRoaXMuY2FuY2VsVXJsID0gdGhpcy5idXR0b25Db25maWd1cmF0aW9uLnJlZGlyZWN0X3VybHMuY2FuY2VsX3VybFxuICAgIHRoaXMudmFsaWRDb250ZXh0cyA9IEFycmF5LmZyb20odmFsaWRDb250ZXh0cylcbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGJ1dHRvbiBmb3Igc2luZ2xlIHByb2R1Y3RcbiAgICovXG4gIHNpbmdsZVByb2R1Y3RCdXR0b25SZW5kZXIgKClcbiAge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtTSU5HTEVfUFJPRFVDVF9CVVRUT059YClcbiAgICBlbGVtZW50ICYmIHRoaXMucmVuZGVyKGVsZW1lbnQpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIEJ1dHRvbiBmb3IgQ2FydFxuICAgKi9cbiAgY2FydEJ1dHRvblJlbmRlciAoKVxuICB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke0NBUlRfQlVUVE9OfWApXG4gICAgZWxlbWVudCAmJiB0aGlzLnJlbmRlcihlbGVtZW50KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBCdXR0b24gZm9yIHRoZSBHaXZlbiBFbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgLy8gVE9ETyBNYWtlIGl0IHByaXZhdGVcbiAgcmVuZGVyIChlbGVtZW50KVxuICB7XG4gICAgaWYgKF8uaXNVbmRlZmluZWQocGF5cGFsKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgYnV0dG9uID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGF5cGFsLWJ1dHRvbicpXG4gICAgYnV0dG9uICYmIGJ1dHRvbi5yZW1vdmUoKVxuXG4gICAgcGF5cGFsLkJ1dHRvbi5yZW5kZXIoe1xuICAgICAgLi4udGhpcy5idXR0b25Db25maWd1cmF0aW9uLFxuXG4gICAgICAvKipcbiAgICAgICAqIERvIFBheW1lbnRcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgICAqL1xuICAgICAgcGF5bWVudDogKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuZm9ybURhdGFCeUVsZW1lbnQoZWxlbWVudClcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0YXNrJywgVEFTS19DUkVBVEVfT1JERVIpXG5cbiAgICAgICAgZm9ybURhdGEuZGVsZXRlKCdhZGQtdG8tY2FydCcpXG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFxuICAgICAgICAgIC5zdWJtaXQoZm9ybURhdGEpXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKCEnZGF0YScgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbmFibGUgdG8gcHJvY2VzcyB0aGUgcGF5bWVudCwgc2VydmVyIGRpZCBub3QgcmVzcG9uc2Ugd2l0aCB2YWxpZCBkYXRhJylcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB0aGlzLmNhbmNlbFVybFxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gdXRpbHMucmVkaXJlY3RVcmxCeVJlcXVlc3QocmVzcG9uc2UsIHRoaXMuY2FuY2VsVXJsKVxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgb3JkZXJJZCA9ICdvcmRlcklkJyBpbiByZXNwb25zZS5kYXRhID8gcmVzcG9uc2UuZGF0YS5vcmRlcklkIDogJydcblxuICAgICAgICAgICAgaWYgKCFvcmRlcklkKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gdXRpbHMucmVkaXJlY3RVcmxCeVJlcXVlc3QocmVzcG9uc2UsIHRoaXMuY2FuY2VsVXJsKVxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9yZGVySWRcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0U3RhdHVzID0gJ3RleHRTdGF0dXMnIGluIGVycm9yID8gZXJyb3IudGV4dFN0YXR1cyA6ICdVbmtub3duIEVycm9yIGR1cmluZyBwYXltZW50J1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHRleHRTdGF0dXMpXG4gICAgICAgICAgfSlcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRXhlY3V0ZSBBdXRob3JpemF0aW9uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGRhdGFcbiAgICAgICAqIEBwYXJhbSBhY3Rpb25zXG4gICAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgICAqL1xuICAgICAgb25BdXRob3JpemU6IChkYXRhLCBhY3Rpb25zKSA9PiB7XG4gICAgICAgIC8vIFRPRE8gRW5zdXJlIHJldHVybl91cmwgZXhpc3RzLlxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuZm9ybURhdGFCeUVsZW1lbnQoZWxlbWVudClcblxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rhc2snLCBUQVNLX1NUT1JFX1BBWU1FTlRfREFUQSlcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdvcmRlcklkJywgZGF0YS5vcmRlcklEKVxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ1BheWVySUQnLCBkYXRhLnBheWVySUQpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGF5bWVudElkJywgZGF0YS5wYXltZW50SUQpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCBkYXRhLnBheW1lbnRUb2tlbilcblxuICAgICAgICBmb3JtRGF0YS5kZWxldGUoJ2FkZC10by1jYXJ0JylcblxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0XG4gICAgICAgICAgLnN1Ym1pdChmb3JtRGF0YSlcbiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gdXRpbHMucmVkaXJlY3RVcmxCeVJlcXVlc3QocmVzcG9uc2UsIHRoaXMuY2FuY2VsVXJsKVxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHJldHVyblVybCA9ICcnXG5cbiAgICAgICAgICAgIGlmICgncmVkaXJlY3RfdXJscycgaW4gdGhpcy5idXR0b25Db25maWd1cmF0aW9uXG4gICAgICAgICAgICAgICYmICdyZXR1cm5fdXJsJyBpbiB0aGlzLmJ1dHRvbkNvbmZpZ3VyYXRpb24ucmVkaXJlY3RfdXJsc1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVyblVybCA9IHRoaXMuYnV0dG9uQ29uZmlndXJhdGlvbi5yZWRpcmVjdF91cmxzLnJldHVybl91cmxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuVXJsICYmIGFjdGlvbnMucmVkaXJlY3QobnVsbCwgcmV0dXJuVXJsKVxuICAgICAgICAgIH0pXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFBlcmZvcm0gQWN0aW9uIHdoZW4gYSBQYXltZW50IGdldCBDYW5jZWxsZWRcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAgICogQHBhcmFtIGFjdGlvbnNcbiAgICAgICAqL1xuICAgICAgb25DYW5jZWw6IChkYXRhLCBhY3Rpb25zKSA9PiB7XG4gICAgICAgIGFjdGlvbnMuY2xvc2UoKVxuICAgICAgICBjb25zdCBjYW5jZWxVcmwgPSAnY2FuY2VsVXJsJyBpbiBkYXRhID8gZGF0YS5jYW5jZWxVcmwgOiAnJ1xuICAgICAgICBjYW5jZWxVcmwgJiYgYWN0aW9ucy5yZWRpcmVjdChudWxsLCBjYW5jZWxVcmwpXG4gICAgICB9LFxuXG4gICAgICBvbkVycm9yOiAoZGF0YSwgYWN0aW9ucykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnT04gRVJST1InLCBkYXRhLCBhY3Rpb25zKVxuICAgICAgICAvLyBUT0RPIFJlZGlyZWN0IHRvIGNhcnQgYW5kIHNob3cgY3VzdG9taXphYmxlIG5vdGljZSB3aXRoIG1lc3NhZ2UuXG4gICAgICB9XG5cbiAgICB9LCBlbGVtZW50KVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGNvbnRleHQgZm9yIEZvcm1EYXRhIGluc3RhbmNlIGJ5IHRoZSBHaXZlbiBFbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtGb3JtRGF0YX1cbiAgICovXG4gIC8vIFRPRE8gTWFrZSBpdCBwcml2YXRlIGlmIG5vdCBwb3NzaWJsZSBtb3ZlIGl0IGFzIGNsb3N1cmUgd2l0aGluIHRoZSByZW5kZXIgZnVuY3Rpb24uXG4gIGZvcm1EYXRhQnlFbGVtZW50IChlbGVtZW50KVxuICB7XG4gICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICBjb25zdCBjb250ZXh0ID0gY29udGV4dEJ5RWxlbWVudChlbGVtZW50KVxuXG4gICAgaWYgKCF0aGlzLnZhbGlkQ29udGV4dHMuaW5jbHVkZXMoY29udGV4dCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0ludmFsaWQgY29udGV4dCB3aGVuIHRyeSB0byByZXRyaWV2ZSB0aGUgZm9ybSBkYXRhIGR1cmluZyBleHByZXNzIGNoZWNrb3V0IHJlcXVlc3QuJ1xuICAgICAgKVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzd2l0Y2ggKGNvbnRleHQpIHtcbiAgICAgICAgY2FzZSAnY2FydCc6XG4gICAgICAgICAgZm9ybURhdGEgPSBmb3JtRGF0YUZvckNhcnQoZWxlbWVudClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdwcm9kdWN0JzpcbiAgICAgICAgICBmb3JtRGF0YSA9IGZvcm1EYXRhQnlFbGVtZW50KGVsZW1lbnQpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybURhdGFcbiAgfVxufVxuXG4vKipcbiAqIFNtYXJ0IFBheW1lbnQgQnV0dG9uIFJlbmRlcmVyIEZhY3RvcnlcbiAqXG4gKiBAcGFyYW0gYnV0dG9uQ29uZmlndXJhdGlvblxuICogQHBhcmFtIHZhbGlkQ29udGV4dHNcbiAqIEBwYXJhbSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7U21hcnRQYXltZW50QnV0dG9uUmVuZGVyZXJ9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNtYXJ0UGF5bWVudEJ1dHRvblJlbmRlcmVyRmFjdG9yeSAoYnV0dG9uQ29uZmlndXJhdGlvbiwgdmFsaWRDb250ZXh0cywgcmVxdWVzdClcbntcbiAgY29uc3Qgb2JqZWN0ID0gbmV3IFNtYXJ0UGF5bWVudEJ1dHRvblJlbmRlcmVyKGJ1dHRvbkNvbmZpZ3VyYXRpb24sIHZhbGlkQ29udGV4dHMsIHJlcXVlc3QpXG5cbiAgT2JqZWN0LmZyZWV6ZShvYmplY3QpXG5cbiAgcmV0dXJuIG9iamVjdFxufVxuIiwiaW1wb3J0IHsgUmVxdWVzdEZhY3RvcnkgfSBmcm9tICcuL2V4cHJlc3NDaGVja291dC9SZXF1ZXN0J1xuaW1wb3J0IHsgU21hcnRQYXltZW50QnV0dG9uUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi9leHByZXNzQ2hlY2tvdXQvc21hcnRQYXltZW50QnV0dG9uJ1xuXG4oZnVuY3Rpb24gKGpRdWVyeSwgXywgZXhwcmVzc0NoZWNrb3V0RGF0YSkge1xuICAvKipcbiAgICogRW5zdXJlIHRoZSBHbG9iYWwgRXhwcmVzcyBDaGVja291dCBpcyBhIFZhbGlkIFZhbHVlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWxpZEV4cHJlc3NDaGVja291dERhdGEgKClcbiAge1xuICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChleHByZXNzQ2hlY2tvdXREYXRhKSAmJiAhXy5pc0VtcHR5KGV4cHJlc3NDaGVja291dERhdGEpXG4gIH1cblxuICAvKipcbiAgICogQm9vdHN0cmFwIEV4cHJlc3MgY2hlY2tvdXRcbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgZnVuY3Rpb24gYm9vdHN0cmFwRXhwcmVzc0NoZWNrb3V0ICgpXG4gIHtcbiAgICBpZiAoIWlzVmFsaWRFeHByZXNzQ2hlY2tvdXREYXRhKCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3REYXRhID0gZXhwcmVzc0NoZWNrb3V0RGF0YS5yZXF1ZXN0XG4gICAgaWYgKCFfLmlzT2JqZWN0KHJlcXVlc3REYXRhKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRDb250ZXh0cyA9IGV4cHJlc3NDaGVja291dERhdGEudmFsaWRDb250ZXh0c1xuICAgIGlmICghXy5pc0FycmF5KHZhbGlkQ29udGV4dHMpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gUmVxdWVzdEZhY3RvcnkocmVxdWVzdERhdGEuYWpheFVybCwgcmVxdWVzdERhdGEuYWN0aW9uKVxuICAgIGNvbnN0IHNtYXJ0UGF5bWVudEJ1dHRvbiA9IFNtYXJ0UGF5bWVudEJ1dHRvblJlbmRlcmVyRmFjdG9yeShcbiAgICAgIGV4cHJlc3NDaGVja291dERhdGEsXG4gICAgICB2YWxpZENvbnRleHRzLFxuICAgICAgcmVxdWVzdFxuICAgIClcblxuICAgIHNtYXJ0UGF5bWVudEJ1dHRvbi5zaW5nbGVQcm9kdWN0QnV0dG9uUmVuZGVyKClcbiAgICBzbWFydFBheW1lbnRCdXR0b24uY2FydEJ1dHRvblJlbmRlcigpXG4gICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLm9uKCd3Y19mcmFnbWVudHNfcmVmcmVzaGVkIHdjX2ZyYWdtZW50c19sb2FkZWQgcmVtb3ZlZF9mcm9tX2NhcnQgYWRkZWRfdG9fY2FydCcsICgpID0+IHtcbiAgICAgIHNtYXJ0UGF5bWVudEJ1dHRvbi5jYXJ0QnV0dG9uUmVuZGVyKClcbiAgICB9KVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgYm9vdHN0cmFwRXhwcmVzc0NoZWNrb3V0KClcbiAgfSlcbn0pKGpRdWVyeSwgd2luZG93Ll8sIHdpbmRvdy53b29QYXlQYWxQbHVzRXhwcmVzc0NoZWNrb3V0KVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")}]);
//# sourceMappingURL=expressCheckout.min.js.map